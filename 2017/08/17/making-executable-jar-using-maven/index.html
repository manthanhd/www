<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Making executable jar using maven</title><!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Making executable jar using maven" />
<meta name="author" content="Manthan Dave" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I was trying something out the other day and wanted to write a really simple application. So I created a simple application backed by Maven." />
<meta property="og:description" content="I was trying something out the other day and wanted to write a really simple application. So I created a simple application backed by Maven." />
<link rel="canonical" href="/www/2017/08/17/making-executable-jar-using-maven/" />
<meta property="og:url" content="/www/2017/08/17/making-executable-jar-using-maven/" />
<meta property="og:site_name" content="Manthan’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-08-17T08:15:23+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Making executable jar using maven" />
<script type="application/ld+json">
{"description":"I was trying something out the other day and wanted to write a really simple application. So I created a simple application backed by Maven.","url":"/www/2017/08/17/making-executable-jar-using-maven/","@type":"BlogPosting","headline":"Making executable jar using maven","dateModified":"2017-08-17T08:15:23+00:00","datePublished":"2017-08-17T08:15:23+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/www/2017/08/17/making-executable-jar-using-maven/"},"author":{"@type":"Person","name":"Manthan Dave"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link type="application/atom+xml" rel="alternate" href="/www/feed.xml" title="Manthan's Blog" /><link rel="shortcut icon" type="image/x-icon" href="/www/logo.png" />
  <link rel="stylesheet" href="/www/assets/css/main.css" />
</head><body a="auto">
    <main class="page-content" aria-label="Content">
      <div class="w">
        <a href="/www/">..</a><article>
  <p class="post-meta">
    <time datetime="2017-08-17 08:15:23 +0000">2017-08-17</time>
  </p>
  
  <h1>Making executable jar using maven</h1>

  <p>I was trying something out the other day and wanted to write a really simple application. So I created a simple application backed by Maven.</p>

<p>Now I could run the jar file that maven built using the standard <code>-e</code> flag that lets java know the entry point but all that is too main stream. I wanted maven to handle that for me.</p>

<p>After doing some googling, I found a plugin provided by codehaus. This one allowed me to run the application through maven. As you can see below, the configuration is quite simple.</p>
<pre class="lang:default decode:true">&lt;build&gt;
..
  &lt;plugin&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;1.2.1&lt;/version&gt;
    &lt;configuration&gt;
      &lt;mainClass&gt;com.manthanhd.cli.RunCli&lt;/mainClass&gt;
    &lt;/configuration&gt;
  &lt;/plugin&gt;
..
&lt;/build&gt;
</pre>
<p>Make sure you update the value inside <code>mainClass</code> with fully qualified name of your class that you want to run. This class must have a <code>public static void main</code> method in it.</p>

<p>Once you are happy with the configuration, you can run your application by executing the following in your terminal</p>
<pre class="lang:default decode:true">mvn exec:java</pre>
<p>While this is great, I cannot run the jar on its own on a server somewhere. If I wanted to, I’d have to get the source code with maven and then run it using the above command. Thats sub-optimal. So I went googling again.</p>

<p>Finally, I found this wonderful plugin provided by our friends at Apache. This is the <code>maven-jar-plugin</code>. This is a standard jar plugin but one of its features is ability to specify a <code>mainClass</code> attribute - just like the codehaus plugin. But unlike the codehaus plugin, I can run the jar as a standalone application without needing to pass in any other flags or parameters indicating the main class.</p>

<p>Here’s the maven build plugin configuration to use the <code>maven-jar-plugin</code>.</p>
<pre class="lang:default decode:true">&lt;build&gt;
...
  &lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
    &lt;configuration&gt;
      &lt;archive&gt;
          &lt;manifest&gt;
              &lt;addClasspath&gt;true&lt;/addClasspath&gt;
              &lt;mainClass&gt;com.manthanhd.cli.RunCli&lt;/mainClass&gt;
          &lt;/manifest&gt;
      &lt;/archive&gt;
    &lt;/configuration&gt;
  &lt;/plugin&gt;
...
&lt;/build&gt;</pre>
<p>As it is standard with maven, package up your application using:</p>
<pre class="lang:sh decode:true ">mvn clean install</pre>
<p>If the build was successful, just run your jar file using standard <code>java -jar path/to/app.jar</code> command. In my case, I ran:</p>
<pre class="lang:sh decode:true">java -jar ./target/my-awesome-standalone-app.jar</pre>
<p> </p>

</article>
      </div>
    </main></body>
</html>
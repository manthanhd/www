<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Some quick tomcat shell functions</title><!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Some quick tomcat shell functions" />
<meta name="author" content="Manthan Dave" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Here are some bash profile functions to help you use tomcat as a pro. The following needs to be done in either your .profile file or .bash_profile, depending on what shell you have and whichever method you prefer. First off, make sure you have exported CATALINA_HOME variable pointing to the base of your tomcat installation. export CATALINA_HOME=/opt/tomcat Once you’ve got that done, you can define the following shell functions. function tomst() { ${CATALINA_HOME}/bin/startup.sh }" />
<meta property="og:description" content="Here are some bash profile functions to help you use tomcat as a pro. The following needs to be done in either your .profile file or .bash_profile, depending on what shell you have and whichever method you prefer. First off, make sure you have exported CATALINA_HOME variable pointing to the base of your tomcat installation. export CATALINA_HOME=/opt/tomcat Once you’ve got that done, you can define the following shell functions. function tomst() { ${CATALINA_HOME}/bin/startup.sh }" />
<link rel="canonical" href="/www/2016/08/27/some-quick-tomcat-shell-functions/" />
<meta property="og:url" content="/www/2016/08/27/some-quick-tomcat-shell-functions/" />
<meta property="og:site_name" content="Manthan’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-08-27T17:12:02+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Some quick tomcat shell functions" />
<script type="application/ld+json">
{"description":"Here are some bash profile functions to help you use tomcat as a pro. The following needs to be done in either your .profile file or .bash_profile, depending on what shell you have and whichever method you prefer. First off, make sure you have exported CATALINA_HOME variable pointing to the base of your tomcat installation. export CATALINA_HOME=/opt/tomcat Once you’ve got that done, you can define the following shell functions. function tomst() { ${CATALINA_HOME}/bin/startup.sh }","url":"/www/2016/08/27/some-quick-tomcat-shell-functions/","@type":"BlogPosting","headline":"Some quick tomcat shell functions","dateModified":"2016-08-27T17:12:02+00:00","datePublished":"2016-08-27T17:12:02+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/www/2016/08/27/some-quick-tomcat-shell-functions/"},"author":{"@type":"Person","name":"Manthan Dave"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link type="application/atom+xml" rel="alternate" href="/www/feed.xml" title="Manthan's Blog" /><link rel="shortcut icon" type="image/x-icon" href="/www/logo.png" />
  <link rel="stylesheet" href="/www/assets/css/main.css" />
</head><body a="auto">
    <main class="page-content" aria-label="Content">
      <div class="w">
        <a href="/www/">..</a><article>
  <p class="post-meta">
    <time datetime="2016-08-27 17:12:02 +0000">2016-08-27</time>
  </p>
  
  <h1>Some quick tomcat shell functions</h1>

  <p>Here are some bash profile functions to help you use tomcat as a pro. The following needs to be done in either your <span class="lang:default decode:true crayon-inline ">.profile</span> file or <span class="lang:default decode:true crayon-inline">.bash_profile</span>, depending on what shell you have and whichever method you prefer. First off, make sure you have exported <span class="lang:default decode:true crayon-inline ">CATALINA_HOME</span> variable pointing to the base of your tomcat installation.</p>
<pre class="lang:sh decode:true">export CATALINA_HOME=/opt/tomcat</pre>
<p>Once you’ve got that done, you can define the following shell functions.<!--more--></p>
<pre class="lang:sh decode:true">function tomst() {
  ${CATALINA_HOME}/bin/startup.sh
}

function tomsh() {
    ${CATALINA_HOME}/bin/shutdown.sh
}

function tomlog() {
    less ${CATALINA_HOME}/logs/catalina.out
}

function tomls() {
    ls -l ${CATALINA_HOME}/webapps | grep -v .war$
}

function tomlogf() {
    tail -f ${CATALINA_HOME}/logs/catalina.out
}

function tomps() {
    ps -ef | grep tomcat | grep -v grep | cut -d' ' -f2
}

function tomkill() {
    kill `tomps`
}</pre>
<p>Lets break these down. The first command, <span class="lang:default decode:true crayon-inline ">tomst</span> , will start up your tomcat using the <span class="lang:default decode:true crayon-inline ">startup.sh</span> script. Depending on your setup, you might prefer to use the startup.sh script over the service command. This is a neat way to do it from any directory.</p>

<p>Next is the <span class="lang:default decode:true crayon-inline ">tomsh</span> command which will help you shut down your tomcat container. Again, like the previous command, this is using the <span class="lang:default decode:true crayon-inline">shutdown.sh</span> script instead of the service command. You could replace both of these with the service commands if you prefer.</p>

<p>The <span class="lang:default decode:true crayon-inline ">tomlog</span> and <span class="lang:default decode:true crayon-inline">tomlogf</span> commands both display the <span class="lang:default decode:true crayon-inline ">catalina.log</span> log file, however the <span class="lang:default decode:true crayon-inline ">tomlogf</span> command will follow (<span class="lang:default decode:true crayon-inline">tail</span>) the log.</p>

<p>The <span class="lang:default decode:true crayon-inline ">tomls</span> command will show whats in your webapps directory. Now, this command will only show you your war files so these might not necessarily be deployed, but its a good way to list your deployments.</p>

<p>The <span class="lang:default decode:true crayon-inline ">tomps</span> command will show you the process ID of the running tomcat container. As of this moment, this only looks for the keyword tomcat in your processes. If you have multiple tomcat containers running, you will have to make the <span class="lang:default decode:true crayon-inline ">grep</span> more specific.</p>

<p>Lastly, the <span class="lang:default decode:true crayon-inline ">tomkill</span> command effectively runs the <span class="lang:default decode:true crayon-inline ">tomps</span> command but with a prefix of a kill command, effectively executing a kill on your tomcat process.</p>

</article>
      </div>
    </main></body>
</html>
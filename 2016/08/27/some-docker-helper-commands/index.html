<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Some docker helper commands</title><!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Some docker helper commands" />
<meta name="author" content="Manthan Dave" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="So a lot of times when you’re working with some cool docker containers, you might need to remove all those dead containers that are just lying around. This could happen if you’re running docker containers in background or forgot to use –rm flag." />
<meta property="og:description" content="So a lot of times when you’re working with some cool docker containers, you might need to remove all those dead containers that are just lying around. This could happen if you’re running docker containers in background or forgot to use –rm flag." />
<link rel="canonical" href="/www/2016/08/27/some-docker-helper-commands/" />
<meta property="og:url" content="/www/2016/08/27/some-docker-helper-commands/" />
<meta property="og:site_name" content="Manthan’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-08-27T11:43:26+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Some docker helper commands" />
<script type="application/ld+json">
{"description":"So a lot of times when you’re working with some cool docker containers, you might need to remove all those dead containers that are just lying around. This could happen if you’re running docker containers in background or forgot to use –rm flag.","url":"/www/2016/08/27/some-docker-helper-commands/","@type":"BlogPosting","headline":"Some docker helper commands","dateModified":"2016-08-27T11:43:26+00:00","datePublished":"2016-08-27T11:43:26+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/www/2016/08/27/some-docker-helper-commands/"},"author":{"@type":"Person","name":"Manthan Dave"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link type="application/atom+xml" rel="alternate" href="/www/feed.xml" title="Manthan's Blog" /><link rel="shortcut icon" type="image/x-icon" href="/www/logo.png" />
  <link rel="stylesheet" href="/www/assets/css/main.css" />
</head><body a="auto">
    <main class="page-content" aria-label="Content">
      <div class="w">
        <a href="/www/">..</a><article>
  <p class="post-meta">
    <time datetime="2016-08-27 11:43:26 +0000">2016-08-27</time>
  </p>
  
  <h1>Some docker helper commands</h1>

  <p>So a lot of times when you’re working with some cool docker containers, you might need to remove all those dead containers that are just lying around. This could happen if you’re running docker containers in background or forgot to use <span class="lang:default decode:true crayon-inline">–rm</span> flag.</p>

<p>Not to worry, just run this command to remove ALL running docker containers in one go:<!--more--></p>
<pre class="lang:sh decode:true"> docker ps -a | cut -d ' ' -f1 | grep -v CONTAINER | xargs -n 1 -I {} docker rm {}</pre>
<p>That will list all docker containers, cut the first column, remove the one with <span class="lang:sh decode:true crayon-inline">CONTAINER</span> in it and pipe all the remaining ones one by one using xargs into docker rm command.</p>

<p>Awesome right? Well, what if you only wanted to remove only the ones that have been STOPPED? Here you go:</p>
<pre class="lang:sh decode:true ">docker ps -a | grep Exited | cut -d ' ' -f1 | grep -v CONTAINER | xargs -n 1 -I {} docker rm {}</pre>
<p>As you can see, this command only removes the containers that have ‘Exited’.</p>

<p>To stop all running containers:</p>
<pre class="lang:sh decode:true ">docker ps -a | grep Up | cut -d ' ' -f1 | grep -v CONTAINER | xargs -n 1 -I {} docker stop {}</pre>
<p>Some helper functions:</p>
<pre class="lang:sh decode:true">function dockstopall() {
    docker ps -a | grep Up | cut -d ' ' -f1 | grep -v CONTAINER | xargs -n 1 -I {} docker stop {}
}

function dockrmall() {
    docker ps -a | grep Exited | cut -d ' ' -f1 | grep -v CONTAINER | xargs -n 1 -I {} docker rm {}
}</pre>
<p>Add these to your <span class="lang:default decode:true crayon-inline ">.profile</span> or <span class="lang:default decode:true crayon-inline ">.bash_profile</span> or whatever shell profile you use. Once added, to apply in existing shell, run:</p>
<pre class="lang:sh decode:true ">source ~/.profile</pre>
<p> </p>

</article>
      </div>
    </main></body>
</html>